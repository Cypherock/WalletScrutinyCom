{% include base_path %}

{% assign posts_by_users = site.posts | sort: "users" | reverse %}

<table>
  <thead>
    <tr>
      <td>Name</td>
      <td>Reviewed</td>
      <td>Installs</td>
      <td>Launch</td>
      <td>Update</td>
      <td>Version</td>
      <td>Rating</td>
      <td>Ratings</td>
      <td>Verdict</td>
    </tr>
  </thead>
  {% assign verdicts = "verifiable,nonverifiable,nosource,custodial,wip,nowallet" | split: "," %}
  {% for v in verdicts %}
    {% for post in posts_by_users %}
      {% if post.wallet and post.verdict and post.verdict == v %}
        {% include list_of_wallets_item.html %}
      {% endif %}
    {% endfor %}
  {% endfor %}
</table>
<script>
function filterList() {
  var allCategories = "wip nowallet custodial nosource nonverifiable verifiable bounty cert".split(" ");
  var selectedCategory = $('#categorySelect')[0].value;
  var visible = false; // hide all categories until the selected one
  allCategories.forEach(function(category){
    if (category == selectedCategory) {
      visible = true;
    }
    if (visible) {
      $('.' + category).show();
    } else {
      $('.' + category).hide();
    }
  })
}
</script>
